# 专题__字符串

# [C语言字符串与数字相互转换](http://www.cnblogs.com/sddai/p/5774121.html)

[^https://www.cnblogs.com/sddai/p/5774121.html]: 来源

[TOC]

### 1、使用库函数将数字转换为字符串

下面是C语言提供了几个标准库函数，可以将任意类型(整型、长整型、浮点型等)的数字转换为字符串

| 标准库函数in C | 说明                                                       |
| -------------- | ---------------------------------------------------------- |
| ltoa()         | 将整型值转换为字符串                                       |
| ltoa()         | 将长整型值转换为字符串                                     |
| ultoa()        | 将无符号长整型值转换为字符串                               |
| gcvt()         | 将浮点型数转换为字符串，取四舍五入                         |
| ecvt()         | 将双精度浮点型值转换为字符串，转换结果中不包含十进制小数点 |
| fcvt()         | 指定位数为转换精度，其余同ecvt()                           |

注：

1.还可以使用sprintf系列函数把数字转换成字符串，其比itoa()系列函数运行速度慢。

[^http://blog.51cto.com/nnssll/198237]: 对于sprintf（）的简单讲解



#### 基础代码示例：

```c++
#include<stdio.h>
#include<stdlib.h>
int main(){
    int num_int = 435;
    double num_double = 435.10f;
    char str_int[30];
    char str_double[30];
    itoa(num_int,str_int,10);
    /*把整数num_int转成字符串str_int
    参数10表示按十进制类型进行转换,转换后的结果是“435”，
    如果按二进制类型进行转换，则结果为“1101110011*/
    gcvt(num_double,8,str_double);
    /*
    把浮点数num_double转成字符串str_double
    参数8表示有效位数，这里得到的结果是“435.10001”
    */
    printf("str_int:%s\n",str_int);
    printf("str_double:%s\n",str_double);
    return 0;
}
```

### 2.不使用库函数将整数转换为字符串

#### 思路：通过把整数的各位上的数字加“0”转换成char类型并存到字符数组中。但是要注意，需要采用字符串逆序的方法。

#### 基础程序代码示例

```c++
#include<iostream>
using namespace std;
void int2str(int n,char *str){
    int i=0;
    int len=0;
    char buf[10]="";//字符串数组的定义
    
    int temp=n<0?-n:n;
    if(str==NULL){
        return;
    }
    while(temp){
        buf[i++]=(temp%10)+'0';//把temp的每一位上的数存入buf
        temp=temp/10;
    }
    
    len=n<0?++i:i;//若n为负数，则多需要一位来存储负号
    str[i]=0;//末尾是结束符0
    while(1){
        i--;
        if(buf[len-i-1]==0){
            break;
        }
        str[i]=buf[len-i-1];//把buf上求得的每一位拷到字符串上去
    }
    if(i==0){
        str[i]='-';//如果是负号则添加一个负号
    }
}
int main(){
    int nNum;
    char p[10];
    cout<<"Please Input an Integer:";
    cin>>nNum;
    cout<<"Output"<<endl;
    int2str(nNum,p);//整型转换为字符串
	cout<<p[i]<<endl;	
    return 0;
}
```











